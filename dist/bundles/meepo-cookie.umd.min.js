!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core"],t):t(e["meepo-cookie"]={},e.ng.common,e.ng.core)}(this,function(e,t,o){"use strict";var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};var r=function(){function e(e){var t=void 0===e?{}:e,o=t.path,n=t.domain,r=t.expires,i=t.secure;this.path=this.isPresent(o)?o:null,this.domain=this.isPresent(n)?n:null,this.expires=this.isPresent(r)?r:null,this.secure=!!this.isPresent(i)&&i}return e.prototype.merge=function(t){return new e({path:this.isPresent(t)&&this.isPresent(t.path)?t.path:this.path,domain:this.isPresent(t)&&this.isPresent(t.domain)?t.domain:this.domain,expires:this.isPresent(t)&&this.isPresent(t.expires)?t.expires:this.expires,secure:this.isPresent(t)&&this.isPresent(t.secure)?t.secure:this.secure})},e.prototype.isPresent=function(e){return e!==undefined&&null!==e},e}(),i=function(e){function t(t){var o=e.call(this,{path:t||"/"})||this;return o.baseHref=t,o}return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(t,e),t}(r);i.decorators=[{type:o.Injectable}],i.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Optional},{type:o.Inject,args:[t.APP_BASE_HREF]}]}]};var s=function(){function e(e){this._defaultOptions=e}return Object.defineProperty(e.prototype,"cookieString",{get:function(){return document.cookie||""},set:function(e){document.cookie=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._cookieReader()[e]},e.prototype.getObject=function(e){var t=this.get(e);return t?JSON.parse(t):t},e.prototype.getAll=function(){return this._cookieReader()},e.prototype.put=function(e,t,o){this._cookieWriter()(e,t,o)},e.prototype.putObject=function(e,t,o){this.put(e,JSON.stringify(t),o)},e.prototype.remove=function(e,t){this._cookieWriter()(e,undefined,t)},e.prototype.removeAll=function(){var e=this,t=this.getAll();Object.keys(t).forEach(function(t){e.remove(t)})},e.prototype._cookieReader=function(){var e,t,o,n,r,i={},s="",u=this.cookieString;if(u!==s)for(e=(s=u).split("; "),i={},o=0;o<e.length;o++)(n=(t=e[o]).indexOf("="))>0&&(r=this._safeDecodeURIComponent(t.substring(0,n)),this.isBlank(i[r])&&(i[r]=this._safeDecodeURIComponent(t.substring(n+1))));return i},e.prototype._cookieWriter=function(){var e=this;return function(t,o,n){e.cookieString=e._buildCookieString(t,o,n)}},e.prototype._safeDecodeURIComponent=function(e){try{return decodeURIComponent(e)}catch(t){return e}},e.prototype._buildCookieString=function(e,t,o){var n,i=this._defaultOptions||new r({path:"/"}),s=this._mergeOptions(i,o);n=s.expires,this.isBlank(t)&&(n="Thu, 01 Jan 1970 00:00:00 GMT",t=""),this.isString(n)&&(n=new Date(n));var u=encodeURIComponent(e)+"="+encodeURIComponent(t);u+=s.path?";path="+s.path:"",u+=s.domain?";domain="+s.domain:"",u+=n?";expires="+n.toUTCString():"";var c=(u+=s.secure?";secure":"").length+1;return c>4096&&console.log("Cookie '"+e+"' possibly not set or overflowed because it was too\n      large ("+c+" > 4096 bytes)!"),u},e.prototype._mergeOptions=function(e,t){var o=e;return this.isPresent(t)?o.merge(new r(t)):o},e.prototype.isBlank=function(e){return e===undefined||null===e},e.prototype.isPresent=function(e){return e!==undefined&&null!==e},e.prototype.isString=function(e){return"string"==typeof e},e}();s.decorators=[{type:o.Injectable}],s.ctorParameters=function(){return[{type:r,decorators:[{type:o.Optional}]}]};var u=[{provide:r,useClass:i},{provide:s,useFactory:c,deps:[r]}];function c(e){return new s(e)}e.ANGULAR2_COOKIE_PROVIDERS=u,e.cookieServiceFactory=c,e.BaseCookieOptions=i,e.CookieOptions=r,e.CookieService=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=meepo-cookie.umd.min.js.map
